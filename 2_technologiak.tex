\chapter{Felhasznált technológiák} \label{chapter:technologiak}
\section{Hardverek}

Az diplomaterv célkitűzése volt a meglévő képfeldolgozó szoftverrendszer integrációja egy gyártósorba illeszthető eszközre. A rendszer megvalósítása előtt több hardver-, és szoftvereszköz használatát fontoltam meg, ebben a fejezetben áttekintő jelleggel találhatóak a fejlesztés során felhasznált, vagy csak felmerült technológiák.

\subsection{Raspberry Pi/ Raspbian}

A Raspberry Pi egy ARM alapú beágyazott számítógép, ami a perifériái széles választékával gyorsan az egyik legnépszerűbb \textit{embedded} platform lett a kezdő és haladó fejlesztők között. Rugalmasan és egyszerűen használható, amelyben nagy segítséget jelent a kiterjedt felhasználói kör, akik a hivatalos fórumon osztják meg a tapasztalatokat. \\
A Raspbian célzottan a Rapberry-re létrehozott, Debian alapú operációs rendszer. Az eszközön futtatva lehetőség van a Linux grafikus felületén keresztül használni a beágyazott modult.

\subsection{Intel Joule}

A mikroszámítógép a 

\section{Szoftverek}

A rendszer kifejlesztése során számos új szoftvertechnológiával ismerkedtem meg (még ha csak felületesen is), hogy ezek közül az alkalmazásunk számára leginkább megfelelőt tudjam kiválasztani.

\subsection{.NET Core} \label{subsec:netcore_intro}
A \emph{.NET Core} egy nyílt forráskódú, számos processzor-architektúrát és a főbb operációs rendszereket támogató, szoftver keretrendszer. A platform tartalmazza a \emph{Common Language Runtime} implementációját, ami a .NET programozási nyelveket futtató virtuális gép, valamint a .NET Standard specifikáció kibővítése, így a Microsoft szoftver-ökosziszéma nagy része használható a segítségével. Fontos megjegyezni, hogy a .NET Core a .NET Framework-nél kisebb mértékű támogatást nyújt az alkalmazásoknak a platformfüggetlenségért cserében. 

\subsection{Mono}

A Microsoft \emph{CLR} futtatókörnyezetének egy másik, szintén nyílt forráskódú implementációja, amely lehetővé teszi a C\# nyelvű szoftverek Windows-tól eltérő operációs rendszereken való futtatását. A .NET Core-tól eltérően a Mono projekt célkitűzése a .NET Framework platformfüggetlen implementálása, így a \ref{subsec:netcore_intro} bekezdésben leírt .NET Core-hoz képest széles körűbb támogatást nyújt, többek között a rendszerünk szempontjából fontos WCF keretrendszer megvalósításával.

\subsection{Win10 IoT Core}

Az \emph{Internet of Things} igényeire szabott Windows operációs rendszer. A beágyazott rendszereket megcélzó platform két verziót kínál, a teljes verziót tartalmazó, fizetős \emph{Enterprise} és a szerényebb képességű, de ingyenes \emph{Core} kiadást. A Raspberry termékei természetesen megtalálhatók a támogatott eszközök listáján. Az IoT core alapvetően az \emph{Universal Windows Platform}-ra készített alkalmazások számára nyújt támogatást. Az \emph{UWP} egy eszközfüggetlen, univerzális szoftver-platform, amely Windows 10 operációs rendszert futtató PC-re, Xbox-ra, mobilra valamint IoT eszközökre készített alkalmazások számára nyújt támogatást. A keretrendszer viszonylag lassan nyer teret a korábbi, csak személyi számítógépeken használható, grafikus felülettel rendelkező szoftverek fejlesztését megkönnyítő WPF mellett.

\subsection{Windows Communication Foundation} \label{ssection:wcf_intro}
A \emph{Windows Communication Foundation} (\emph{WCF}) a \textit{.NET Framework} internetes szolgáltatásokat biztosító alkalmazások számára támogatást nyújtó, így a szerviz-orientált paradigmát támogató modulja. A szolgáltatás orientált architektúra egy modern szoftverfejlesztési módszer, amely a szoftvertervezés "evolúciójának" egyik legújabb állomása. A fejlődés során egyre inkább csökken a szoftverkomponensek közötti csatolás mértéke. A tudományág hajnalán az elkészített programok nagy mértékben a futtató eszköztől függöttek, ennek vetett véget a fordítók megjelenése, melyek a szoftvert elválasztották a hardverektől. Később a szoftverek belső struktúráját újra-felhasználható egységekre, függvényekre osztották fel, így megalapozva a függvény-alapú programozást többek között a C programozási nyelvvel. A függvények azonban azokhoz az adatszerkezetekhez kötődnek, amelyeken végrehajtódnak, így globális adatszerkezetek esetén problémát jelenthet az egyes függvények változtatása. A problémára megoldást jelent az adatok és a rajtuk műveleteket végző függvények (vagy metódusok) egységbe zárása, így születtek meg az osztályok, az osztályokkal pedig az objektumorientált szoftverfejlesztési szemlélet. Az újrahasznosítás alapegysége az objektum lett, amely mind az adatot, mind pedig a mögöttes logikát tartalmazza. Az új szemlélet új problémát is felvetett, méghozzá hogy a szoftver erősen kötődött a programozási nyelvhez, ami a fejlesztési költségeket növelt azáltal, hogy ha az adott adott szervezet több programozásnyi nyelvet használ, a megfelelő nyelvhez értő személyzetet kell fizetnie. A komponens orientált megközelítés a forráskódok megosztása helyett statikusan vagy dinamikusan linkelt bináris fájlok \emph{komponensek} készítését helyezte előtérbe, így egymással felcserélhető alkotóelemekre osztotta fel a szoftver struktúráját. Az így létrejött komponensek használatához azok interfészének ismeretén kívül nincs is másra szükség, használat közben az ezt felügyelő keretrendszer vagy maga az operációs rendszer tölti be a szükséges binárisokat, és csak a szoftverek közötti átjárhatóságot csak a bináris reprezentáció megfelelősége az elvárás. A szerviz orientált programozási paradigma a komponens alapú programozási modell továbbfejlesztése, amely igazodik a 21. századi, interneten kommunikáló, elosztott alkalmazások igényeihez. Azért esett erre a keretrendszerre a választásom, mert a webes mikro-szerviz alapú alkalmazásokkal kapcsolatos tudás hasznos ismeret és jó alkalomnak tűnt a megismerése.

\subsection{OpenCV, OpenCvSharp}

Az \emph{Open Computer Vision} (\emph{OpenCV}) egy képfeldolgozást segítő, nyílt forráskódú szoftverkönyvtár, amely kényelmes és jól dokumentált keretrendszert nyújt képfeldolgozási, valamint gépi tanulással kapcsolatos alkalmazások számára. A szoftver a BSD licensz védelme alatt érhető el, és ennek megkötéseit figyelembe véve használható fel. A könyvtár eredetileg C/C++ nyelven íródott az alacsony szintű nyelvek minden optimalizációs lehetőségét kihasználva, azonban létezik hivatalos API Python nyelvhez is. A szoftverkönyvtár népszerűségének növekedésével sorra születtek nyílt forráskódú megoldások, melyekkel más programozási nyelven, illetve más processzor architektúrán is használhatóak a képfeldolgozó szolágáltatások (pl. Java és ARM az Android eszközök számára).\\
\\
A \emph{cv4s} keretrendszer -- lévén C\#-ban íródott -- egy harmadik féltől származó (\textit{3rd party}) burkoló szoftvercsomagon keresztül használható, amely lehetővé teszi a C/C++ nyelvről fordított binárisok használatát a C\# szintaktikájával, ennek neve \emph{OpenCvSharp}. Valójában az OpenCvSharp csak interfészt biztosít a programozási nyelvnek a binárisokhoz, így az eredeti implementáció hatékonyságával végezhetünk képfeldolgozást a \emph{CLR} virtuális gépben.

\subsection{Windows Presentation Foundation}

A \emph{WPF} a Microsoft manapság legszélesebb körben elterjedt, asztali számítógépekre szánt alkalmazások számára készült keretrendszere, amely segítségével egységes programozási modellel fejleszthetünk grafikus felhasználói felületet. A platform -- a hasonló keretrendszerekhez hasonlóan -- leveszi a programozó válláról az alacsony szintű grafikai feladatokat, azokat a háttérben hatékony és felbontásfüggetlen vektorgrafikus logikával oldja meg. A hatékony alkalmazásfejlesztés támogatása érdekében a megjelenítést és a háttérbeli logikát szétválasztja, hogy a függőségek csökkenésével a szoftver karbantartása is egyszerűsödjön, valamint a fejlesztők és felület tervezői párhuzamosan is dolgozhassanak. Ezt úgy oldja meg, hogy a nézetet, azaz a grafikus elemek egymáshoz viszonyított helyzetét nem programkódból, hanem az \emph{XAML} nevű leíró nyelvvel definiálhatjuk. A program indulásakor a \emph{GUI}-t reprezentáló objektumokat a keretrendszer ebből a konfigurációs fájlból hozza létre (\emph{deserialize}) és teszi elérhetővé futási időben. 

\subsection{Docker} \label{subs:docker_bevezeto}

A modern szoftverfejlesztés során a mérnökök gyakran szembesülnek a programok függésegeiből adódó problémákkal. Az egyes szoftverek ugyanis nagyban függenek a futtatási környezettől, szinte kivétel nélkül támaszkodnak az operációs rendszer egyéb könyvtáraira, így nehézkessé válik a használatuk másik számítógépen. A \emph{Docker} ezt a gondot hivatott megoldani azáltal, hogy a szoftver mellé egy elkülönített, megfelelően konfigurált környezetet, úgynevezett \emph{konténert} biztosít, amelyben a programunk megfelelően működik anélkül, hogy a gazda számítógép környezetét megváltoztatná. A konténerben telepítve vannak a szükséges szoftverkönyvtárak megfelelő verziói, mint egy virtuális gépben. A virtuális operációs rendszerrel ellentétben azonban a konténer nem virtualizálja a teljes futtató hardvert, hanem a gazda operációs rendszer erőforrásait használja és az operációs rendszert, ezáltal futtatási környezetet virtualizálja, így hordozhatóbb környezetet kapunk a \ref{fig:placeholder_1} ábrán látható módon.

\begin{figure}[h]
\includegraphics[scale=0.1]{placeholder-image.jpg}
\centering
\caption{Virtuális operációs rendszer és a Docker konténer}
\label{fig:placeholder_1}
\end{figure}